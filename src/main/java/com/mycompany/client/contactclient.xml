<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
"http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
	<bean id="client" class="com.mycompany.client.ContactWebserviceClient">
	    <property name="service" ref="contactAppWebService"/>
	</bean>
	
	<!-- serviceinterface
	cd src 
	wsimport -p client -keep http://localhost:8081/ContactAppService?WSDL 
		
	<bean id="contactAppWebService" class="org.springframework.remoting.jaxws.JaxWsPortProxyFactoryBean">
	    <property name="serviceInterface" value="client.ContactAppServiceEndpoint"/>
	    <property name="wsdlDocumentUrl" value="http://localhost:8081/ContactAppService?WSDL"/>
	    <property name="namespaceUri" value="http://service.mycompany.com/"/>
	    <property name="serviceName" value="ContactAppService"/>
	    <property name="portName" value="ContactAppServiceEndpointPort"/>
	</bean>
	-->
	<bean id="contactAppWebService" class="org.springframework.remoting.jaxws.JaxWsPortProxyFactoryBean">
	    <property name="serviceInterface" value="com.mycompany.SimpleContactApp"/>
	    <property name="wsdlDocumentUrl" value="http://localhost:8080/springwebapp/ContactAppService?WSDL"/>
	    <property name="namespaceUri" value="http://mycompany.com/"/>
	    <property name="serviceName" value="ContactAppService"/>
	    <property name="portName" value="ContactService"/>
	</bean>

	<bean id="restTemplate" class="org.springframework.web.client.RestTemplate">
        <property name="messageConverters">
            <list>
                <ref bean="marshallingConverter" />
            </list>
        </property>
    </bean>
    
	<bean id="marshallingConverter"
		class="org.springframework.http.converter.xml.MarshallingHttpMessageConverter">
		<constructor-arg ref="jaxbMarshaller" />
		<property name="supportedMediaTypes" value="application/xml" />
	</bean>
				
	<bean id="jaxbMarshaller" class="org.springframework.oxm.jaxb.Jaxb2Marshaller">
		<property name="classesToBeBound">
			<list>
				<value>com.mycompany.Contact</value>
				<value>com.mycompany.ContactList</value>
			</list>
		</property>
	</bean>
  	
</beans>